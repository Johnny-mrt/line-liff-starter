<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1" />

<h1>篩選功能測試</h1>
</head>
<body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0/jquery.min.js"></script>
<script src="https://d.line-scdn.net/liff/1.0/sdk.js"></script> 
  
  <select id="Station" class="easyui-combobox" name="Station">
      <option value="G01">G_新店</option>
      <option value="G10">G_古亭</option>
      <option value="G11">G_中正紀念堂</option>
      <option value="BL07">BL_台北車站</option>
      <option value="R13" selected>R_台北車站</option>
      <option value="R33">R_淡水</option>
  </select>
  
  <select id="Device" class="easyui-combobox" name="Device">
      <option value="ATIM" selected>ATIM</option>
      <option value="GATE">GATE</option>
      <option value="CCBE">CCBE</option>
      <option value="PAM">PAM</option>
  </select>
  
  <select id="Number" class="easyui-combobox" name="Number">
      <option value="1" selected>01</option>
      <option value="2">02</option>
      <option value="3">03</option>
      <option value="4">04</option>
      <option value="5">05</option>
      <option value="6">06</option>
      <option value="7">07</option>
      <option value="8">08</option>
      <option value="9">09</option>
      <option value="10">10</option>
  </select>
  <button onclick="myFunction()">送出查詢</button>
  
  <script>

    function initializeApp(data){
            var userid = data.context.userId;
    }//取得用戶ID

    function Submit(comboText){
            liff.sendMessages([
                {
                    type: 'text',
                    text: comboText
                }
            ])
                .then(() => {
                    //建立成功，關閉視窗
                    liff.closeWindow();
                });
        }
    
    function myFunction(){
      var comboText='!'+$('#Station').find(":selected").val()+' '+$('#Device').find(":selected").val()+' '+$('#Number').find(":selected").val()
      Submit(comboText);
    }
    
    $(document).ready(function(){
      liff.init(function (data) {
        initializeApp(data);
      });
    });

  </script>
</body>

</html>
  
