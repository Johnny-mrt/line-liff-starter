<!doctype html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>設備篩選</title>
    <style>
        @import url(http://fonts.googleapis.com/earlyaccess/notosanstc.css);
        * {font-size: large;}
        * {font-family: 'Noto Sans TC',sans-serif;}
    </style>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://d.line-scdn.net/liff/1.0/sdk.js"></script> 

</head>
<body>
        <select name="Station" class="easyui-combobox" id="Station">
                <optgroup label="板南線">
                    <option value="BL07" selected>BL台北車站</option>
                </optgroup>
                <optgroup label="淡水線">
                    <option value="R12">R臺大醫院站</option>
                    <option value="R13">R台北車站</option>
                    <option value="R14">R中山站</option>
                    <option value="R15">R雙連站</option>
                    <option value="R16">R民權西路站</option>
                    <option value="R17">R圓山站</option>
                    <option value="R18">R劍潭站</option>
                    <option value="R20">R士林站</option>
                    <option value="R21">R芝山站</option>
                    <option value="R22">R明德站</option>
                    <option value="R23">R石牌站</option>
                    <option value="R24">R唭哩岸站</option>
                    <option value="R25">R奇岩站</option>
                    <option value="R26">R北投站</option>
                    <option value="R27">R新北投站</option>
                    <option value="R28">R復興崗站</option>
                    <option value="R29">R忠義站</option>
                    <option value="R30">R關渡站</option>
                    <option value="R31">R竹圍站</option>
                    <option value="R32">R紅樹林站</option>
                    <option value="R33">R淡水站</option>
                </optgroup>   
                <optgroup label="新店線">
                        <option value="G01">G新店站</option>
                        <option value="G02">G新店區公所站</option>
                        <option value="G03">G七張站</option>
                        <option value="G04">G大坪林站</option>
                        <option value="G05">G景美站</option>
                        <option value="G06">G萬隆站</option>
                        <option value="G07">G公館站</option>
                        <option value="G09">G台電大樓站</option>
                        <option value="G10">G古亭站</option>
                        <option value="G11">G中正紀念堂站</option>
                </optgroup>
          </select>
      
          <select name="Device" class="easyui-combobox" id="Device">
                <option value="ATIM" selected>ATIM</option>
                <option value="GATE">GATE</option>
                <option value="PAM">PAM</option>
                <option value="CCBE">CCBE</option>
                <option value="SPS">SPS</option>
          </select>
      
          <select name="Number" class="easyui-combobox" id="Number">
                <option value="1" selected>01</option>
                <option value="2">02</option>
                <option value="3">03</option>
                <option value="4">04</option>
                <option value="5">05</option>
                <option value="6">06</option>
                <option value="7">07</option>
                <option value="8">08</option>
                <option value="9">09</option>
                <option value="10">10</option>
                <option value="11">11</option>
                <option value="12">12</option>
                <option value="13">13</option>
                <option value="14">14</option>
                <option value="15">15</option>
                <option value="16">16</option>
                <option value="17">17</option>
                <option value="18">18</option>
                <option value="19">19</option>
                <option value="20">20</option>
                <option value="21">21</option>
                <option value="22">22</option>
                <option value="23">23</option>
                <option value="24">24</option>
                <option value="25">25</option>
                <option value="26">26</option>
                <option value="27">27</option>
                <option value="28">28</option>
          </select>
        
        <button class="btn btn-success btn-block" id="btn_addRecord">送出查詢</button>

        <script>
      
          function initializeApp(data){
                  var userid = data.context.userId;
          }//取得用戶ID
      
          function Submit(comboText){
           liff.sendMessages([
           {
             type: 'text',
             text: comboText
           }
           ])
             .then(() => {
                          //建立成功，關閉視窗
                          liff.closeWindow();
                      });
          }
          
          function myFunction(){
            var comboText='!'+$('#Station').find(":selected").val()+' '+$('#Device').find(":selected").val()+' '+$('#Number').find(":selected").val()
            Submit(comboText);
            //alert(comboText);
          }
          
          $(document).ready(function(){
            liff.init(function (data) {
              initializeApp(data);
            });
           $('#btn_addRecord').click(function (e) {
             //新增
             myFunction();
          });
            
          });
      
        </script>
</body>
</html>